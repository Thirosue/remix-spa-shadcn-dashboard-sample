import{r as o,j as e}from"./jsx-runtime-BoP3Okkf.js";import{c as d,a as P}from"./index-DSLhBl-f.js";import{j,l as v,o as B,m as w,n as N,q as F,w as z,p as V,$ as q,d as G,h as y}from"./index-COFPFlij.js";import{c as H,X as K}from"./x-tycdnnMh.js";import{I as Q}from"./icons-j5Z6QLy3.js";import{a as U,c as W,O as X}from"./index-DCc76cjq.js";import{q as S}from"./components-BEEcOc_s.js";import{_ as p,B as J}from"./button-CGLTyWrZ.js";import{$ as x}from"./index-UeDuXGR9.js";import{D as Y,f as Z,g as ee,h as ae,j as b,k as te,i as f,l as m}from"./dropdown-menu-CWKH9nKs.js";import{u as se,c as re}from"./session-provider-Coaomt64.js";import{u as oe}from"./use-toast-dkzHwJmT.js";import{l as g}from"./logger-B_ZFLNfA.js";import{r as $}from"./responses-sH26UiXk.js";import"./trash-C6rcx_Kb.js";import"./router-miLWBQYb.js";import"./index-5ojJi0W2.js";/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=H("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),k=[{title:"Dashboard",href:"/dashboard/home",icon:"dashboard",label:"Dashboard"},{title:"Product",href:"/dashboard/products?page=1&limit=5",icon:"barcode",label:"product"},{title:"SignOut",href:"/signout",icon:"logout",label:"signout",alwaysShow:!0}],ce=F,de=z,ie=V,A=o.forwardRef(({className:t,...a},s)=>e.jsx(j,{className:d("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:s}));A.displayName=j.displayName;const le=P("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),L=o.forwardRef(({side:t="right",className:a,children:s,...r},n)=>e.jsxs(ie,{children:[e.jsx(A,{}),e.jsxs(v,{ref:n,className:d(le({side:t}),a),...r,children:[s,e.jsxs(B,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));L.displayName=v.displayName;const fe=o.forwardRef(({className:t,...a},s)=>e.jsx(w,{ref:s,className:d("text-lg font-semibold text-foreground",t),...a}));fe.displayName=w.displayName;const ue=o.forwardRef(({className:t,...a},s)=>e.jsx(N,{ref:s,className:d("text-sm text-muted-foreground",t),...a}));ue.displayName=N.displayName;function M({items:t,setOpen:a}){const s=U();return t!=null&&t.length?e.jsx("nav",{className:"grid items-start gap-2",children:t.map((r,n)=>{const c=Q[r.icon||"arrowRight"];return r.href&&e.jsx(S,{to:r.disabled?"/":r.href,onClick:()=>{a&&a(!1)},children:e.jsxs("span",{className:d("group flex items-center rounded-md px-3 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground",s.pathname===r.href?"bg-accent":"transparent",r.disabled&&"cursor-not-allowed opacity-80"),children:[e.jsx(c,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:r.title})]})},n)})}):null}function me(){const[t,a]=o.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs(ce,{open:t,onOpenChange:a,children:[e.jsx(de,{asChild:!0,children:e.jsx(ne,{})}),e.jsx(L,{side:"left",className:"!px-0",children:e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"px-3 py-2",children:[e.jsx("h2",{className:"mb-2 px-4 text-lg font-semibold tracking-tight",children:"Overview"}),e.jsx("div",{className:"space-y-1",children:e.jsx(M,{items:k,setOpen:a})})]})})})]})})}const C="Avatar",[pe,qe]=q(C),[xe,_]=pe(C),he=o.forwardRef((t,a)=>{const{__scopeAvatar:s,...r}=t,[n,c]=o.useState("idle");return o.createElement(xe,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:c},o.createElement(x.span,p({},r,{ref:a})))}),be="AvatarImage",ge=o.forwardRef((t,a)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:n=()=>{},...c}=t,l=_(be,s),i=ve(r),u=G(h=>{n(h),l.onImageLoadingStatusChange(h)});return y(()=>{i!=="idle"&&u(i)},[i,u]),i==="loaded"?o.createElement(x.img,p({},c,{ref:a,src:r})):null}),$e="AvatarFallback",je=o.forwardRef((t,a)=>{const{__scopeAvatar:s,delayMs:r,...n}=t,c=_($e,s),[l,i]=o.useState(r===void 0);return o.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>i(!0),r);return()=>window.clearTimeout(u)}},[r]),l&&c.imageLoadingStatus!=="loaded"?o.createElement(x.span,p({},n,{ref:a})):null});function ve(t){const[a,s]=o.useState("idle");return y(()=>{if(!t){s("error");return}let r=!0;const n=new window.Image,c=l=>()=>{r&&s(l)};return s("loading"),n.onload=c("loaded"),n.onerror=c("error"),n.src=t,()=>{r=!1}},[t]),a}const I=he,R=ge,D=je,E=o.forwardRef(({className:t,...a},s)=>e.jsx(I,{ref:s,className:d("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a}));E.displayName=I.displayName;const T=o.forwardRef(({className:t,...a},s)=>e.jsx(R,{ref:s,className:d("aspect-square h-full w-full",t),...a}));T.displayName=R.displayName;const O=o.forwardRef(({className:t,...a},s)=>e.jsx(D,{ref:s,className:d("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...a}));O.displayName=D.displayName;function we(){const t=W(),{session:a,clearSession:s}=se(),{toast:r}=oe();if(a)return e.jsxs(Y,{children:[e.jsx(Z,{asChild:!0,children:e.jsx(J,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(E,{className:"h-8 w-8",children:[e.jsx(T,{src:a.image??"",alt:a.name??""}),e.jsx(O,{children:a.name})]})})}),e.jsxs(ee,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx(ae,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:a.name}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:a.email})]})}),e.jsx(b,{}),e.jsxs(te,{children:[e.jsxs(f,{children:["Profile",e.jsx(m,{children:"⇧⌘P"})]}),e.jsxs(f,{children:["Billing",e.jsx(m,{children:"⌘B"})]}),e.jsxs(f,{children:["Settings",e.jsx(m,{children:"⌘S"})]}),e.jsx(f,{children:"New Team"})]}),e.jsx(b,{}),e.jsxs(f,{onClick:()=>{s(),t("/auth/signin"),r({description:"Logged out successfully!"})},children:["Log out",e.jsx(m,{children:"⇧⌘Q"})]})]})]})}function Ne(){return e.jsx("div",{className:"supports-backdrop-blur:bg-background/60 fixed left-0 right-0 top-0 z-20 border-b bg-background/95 backdrop-blur",children:e.jsxs("nav",{className:"flex h-14 items-center justify-between px-4",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx(S,{to:"https://github.com/Thirosue/remix-spa-shadcn-dashboard-sample",target:"_blank",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2 h-6 w-6",children:e.jsx("path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"})})})}),e.jsx("div",{className:d("block lg:!hidden"),children:e.jsx(me,{})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(we,{})})]})})}function ye(){return e.jsx("nav",{className:d("relative hidden h-screen w-72 border-r pt-16 lg:block"),children:e.jsx("div",{className:"space-y-4 py-4",children:e.jsx("div",{className:"px-3 py-2",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"mb-2 px-4 text-xl font-semibold tracking-tight",children:"Overview"}),e.jsx(M,{items:k})]})})})})}function Se(t){return async a=>{try{g({message:`Checking authentication... at ${new Date().toISOString()}`});const{status:s}=await re();return s!=="ok"?$("/session-expired"):t(a)}catch(s){return g({message:`Error during authentication check: ${s}`}),$("/session-expired")}}}const Ge=Se(async()=>({}));function He(){return e.jsxs(e.Fragment,{children:[e.jsx(Ne,{}),e.jsxs("div",{className:"flex h-screen",children:[e.jsx(ye,{}),e.jsx("main",{className:"w-full pt-16",children:e.jsx(X,{})})]})]})}export{Ge as clientLoader,He as default};
